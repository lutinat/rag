<div class="flex flex-row h-screen overflow-y-none relative">
    <button 
        class="absolute top-4 left-4 md:hidden z-50 p-2 bg-satlantis-blue text-white rounded-md w-10"
        (click)="toggleSidebar()"
    >
        <i class="fa-solid fa-bars"></i>
    </button>

    <app-sidebar 
        class="fixed top-0 left-0 h-full w-64 bg-white shadow-lg transform transition-transform duration-300 md:relative md:translate-x-0 z-40"
        [ngClass]="{'-translate-x-full': !isSidebarOpen, 'translate-x-0': isSidebarOpen}"
    ></app-sidebar>

    <div class="flex flex-col w-full h-full text-satlantis-blue">
        <!-- Welcome Screen -->
        <div *ngIf="!hasStartedChat" class="flex flex-col justify-center items-center gap-4 h-full">
            <h1 class="text-4xl font-bold">Welcome to Chatlantis</h1>
            <p class="text-base">Get answers to any of your question about Satlantis</p>
            <div class="relative w-6/10 mt-4 mb-4 z-10">
                <input 
                    type="text" 
                    placeholder="Ask anything" 
                    class="border-2 border-gray-200 rounded-md p-2 w-full pr-10" 
                    [(ngModel)]="inputValue"
                />
                <i 
                    class="fa-solid fa-xl fa-circle-arrow-right text-satlantis-orange absolute right-3 top-1/2 transform -translate-y-1/2 cursor-pointer"
                    [class.text-gray-400]="!inputValue" 
                    [class.text-satlantis-orange]="inputValue" 
                    [class.cursor-not-allowed]="!inputValue"
                    [class.cursor-pointer]="inputValue"
                    (click)="onArrowClick()"
                ></i>
            </div>
        </div>

        <!-- Chat Interface -->
        <div *ngIf="hasStartedChat" class="flex flex-col h-full">
            <!-- Chat Messages Container -->
            <div class="flex-1 overflow-y-auto p-4">
                <div *ngFor="let message of messages" class="flex justify-end mb-4">
                    <div class="bg-satlantis-orange/50 text-satlantis-blue rounded-lg p-3 max-w-[80%]">
                        {{ message.content }}
                    </div>
                </div>
            </div>

            <!-- Input Area -->
            <div class="bg-white p-4">
                <div class="relative">
                    <input 
                        type="text" 
                        placeholder="Ask anything" 
                        class="w-full p-3 pr-12 bg-gray-50 focus:outline-none" 
                        [(ngModel)]="inputValue"
                    />
                    <i 
                        class="fa-solid fa-xl fa-circle-arrow-right text-satlantis-orange absolute right-3 top-1/2 transform -translate-y-1/2 cursor-pointer"
                        [class.text-gray-400]="!inputValue" 
                        [class.text-satlantis-orange]="inputValue" 
                        [class.cursor-not-allowed]="!inputValue"
                        [class.cursor-pointer]="inputValue"
                        (click)="onArrowClick()"
                    ></i>
                </div>
            </div>
        </div>
    </div>
</div>